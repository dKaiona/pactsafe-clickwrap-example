<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="css/skeleton.css">
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>
  (function(w,d,s,c,n,a,b){w['PactSafeObject']=n;w[n]=w[n]||function(){(w[n].q=w[n].q||[]).push(arguments)},w[n].t=1*new Date();a=d.createElement(s),b=d.getElementsByTagName(s)[0];a.async=1;a.src=c;b.parentNode.insertBefore(a,b)})(window,document,'script', '//ps-vault.s3.amazonaws.com/ps.min.js','_ps');
  // initiate PactSafe with your SITE ACCESS ID found here: http://beta.pactsafe.com/settings/account
  _ps('create', '25b2b173-632a-4227-9877-31d2109d8c98');
  // load a specific group
  // dynamically loads http://ps-vault.s3.amazonaws.com/s/<SITE ACCESS ID>/groups/<AGREEMT GROUP KEY>/group.js
  // your group key can be found here: https://beta.pactsafe.com/groups
  	// => click into your group and find the "Key" field
  	// => should be something like checkout-click-through-agreement
  var agreement_key = 'register-clickwrap';
  _ps('load', agreement_key);

  //when the form is submitted, double check that all contract checkboxes are checked
  $(document).ready(function(){
    // when your form is submitted, validate everything is good
    $('#form1').submit(function(e){
      e.preventDefault();
      // ALL client-side validation would go here
      // validate();

      // Add a trigger to check status of PactSafe being checked
      if(_ps.getByKey(agreement_key).allChecked()){
        // this.submit();
        console.log("Thanks for agreeing!");
      } else {
        // do something if the user doesn't check all the boxes
        console.log("Agree to our terms. Kthx!");
      }
    });
  });
</script>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="twelve columns">
				<form action="..." method="post" id="form1" class="form">
					<h1>Sign up for our service!</h1>
					<p>Simply fill out the form below and accept our legal terms.</p>
					<div>
						<label for="email-address">Email Address:</label>
						<input type="email" name="email" id="login-email" />
					</div>
					<div id="agreements"></div>
					<p><br/><input type="submit" value="Submit" /></p>
				</form>
			</div>
		</div>
	</div>
</body>
</html>
